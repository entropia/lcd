diff -Nru MPlayer-0.60pre1/fifo.c MPlayer-0.60pre1-lcd/fifo.c
--- MPlayer-0.60pre1/fifo.c	Tue Nov 20 01:23:49 2001
+++ MPlayer-0.60pre1-lcd/fifo.c	Fri Dec 28 16:57:24 2001
@@ -73,7 +73,7 @@
            //retval = select(keyb_fifo_put+1, &rfds, NULL, NULL, &tv);
            if(select(keyb_fifo_put+1, &rfds, NULL, NULL, &tv)>0){
              read(keyb_fifo_get,&code,4);
-//             printf("*** key event %d read ***\n",code);
+             printf("*** key event %d read ***\n",code);
            }
            return code;
 }
diff -Nru MPlayer-0.60pre1/help_mp.h MPlayer-0.60pre1-lcd/help_mp.h
--- MPlayer-0.60pre1/help_mp.h	Thu Jan  1 01:00:00 1970
+++ MPlayer-0.60pre1-lcd/help_mp.h	Fri Dec 28 14:04:44 2001
@@ -0,0 +1 @@
+#include "help_mp-en.h"
Binary files MPlayer-0.60pre1/libac3/mmx/imdct512_kni.o and MPlayer-0.60pre1-lcd/libac3/mmx/imdct512_kni.o differ
Binary files MPlayer-0.60pre1/libac3/mmx/srfft_kni.o and MPlayer-0.60pre1-lcd/libac3/mmx/srfft_kni.o differ
diff -Nru MPlayer-0.60pre1/libvo/Makefile MPlayer-0.60pre1-lcd/libvo/Makefile
--- MPlayer-0.60pre1/libvo/Makefile	Wed Nov 28 18:52:25 2001
+++ MPlayer-0.60pre1-lcd/libvo/Makefile	Fri Dec 28 14:16:10 2001
@@ -3,7 +3,7 @@
 
 LIBNAME = libvo.a
 
-SRCS=aspect.c aclib.c osd.c font_load.c video_out.c vo_null.c vo_pgm.c vo_md5.c vo_mpegpes.c x11_common.c $(OPTIONAL_SRCS) img_format.c
+SRCS=aspect.c aclib.c osd.c font_load.c video_out.c vo_lcd.c output.c vo_null.c vo_pgm.c vo_md5.c vo_mpegpes.c x11_common.c $(OPTIONAL_SRCS) img_format.c
 OBJS=$(SRCS:.c=.o)
 
 CFLAGS  = $(OPTFLAGS) -I. -I.. $(SDL_INC) $(X11_INC) $(EXTRA_INC) $(DVB_INC) -DMPG12PLAY #-Wall
diff -Nru MPlayer-0.60pre1/libvo/font.h MPlayer-0.60pre1-lcd/libvo/font.h
--- MPlayer-0.60pre1/libvo/font.h	Thu Jan  1 01:00:00 1970
+++ MPlayer-0.60pre1-lcd/libvo/font.h	Fri Dec 28 14:55:02 2001
@@ -0,0 +1,128 @@
+0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x24,0x42,0x81,0xe7,0x24,0x24,0x3c,
+0x3c,0x24,0x24,0xe7,0x81,0x42,0x24,0x18,0x18,0x14,0xf2,0x81,0x81,0xf2,0x14,0x18,
+0x18,0x28,0x4f,0x81,0x81,0x4f,0x28,0x18,0xff,0x81,0x81,0x81,0x81,0x81,0x81,0xff,
+0xf8,0x88,0x8f,0x89,0xf9,0x41,0x41,0x7f,0xff,0x89,0x89,0x89,0xf9,0x81,0x81,0xff,
+0x01,0x03,0x06,0x8c,0xd8,0x70,0x20,0x00,0x7e,0xc3,0xd3,0xd3,0xdb,0xc3,0xc3,0x7e,
+0x18,0x3c,0x2c,0x2c,0x7e,0x18,0x18,0x00,0x10,0x1c,0x12,0x10,0x10,0x70,0xf0,0x60,
+0xf0,0xc0,0xfe,0xd8,0xde,0x18,0x18,0x00,0x70,0xc8,0xde,0xdb,0xdb,0x7e,0x1b,0x1b,
+0x00,0x00,0x00,0xff,0xff,0xff,0x00,0x00,0x1c,0x1c,0x1c,0x1c,0x1c,0x1c,0x1c,0x1c,
+0x7c,0xc6,0xc6,0x00,0xc6,0xc6,0x7c,0x00,0x06,0x06,0x06,0x00,0x06,0x06,0x06,0x00,
+0x7c,0x06,0x06,0x7c,0xc0,0xc0,0x7c,0x00,0x7c,0x06,0x06,0x7c,0x06,0x06,0x7c,0x00,
+0xc6,0xc6,0xc6,0x7c,0x06,0x06,0x06,0x00,0x7c,0xc0,0xc0,0x7c,0x06,0x06,0x7c,0x00,
+0x7c,0xc0,0xc0,0x7c,0xc6,0xc6,0x7c,0x00,0x7c,0x06,0x06,0x00,0x06,0x06,0x06,0x00,
+0x7c,0xc6,0xc6,0x7c,0xc6,0xc6,0x7c,0x00,0x7c,0xc6,0xc6,0x7c,0x06,0x06,0x7c,0x00,
+0x00,0x3c,0x46,0x06,0x7e,0x66,0x3c,0x00,0x78,0x66,0x7d,0x64,0x7e,0x03,0x0b,0x06,
+0x00,0x00,0x00,0x1f,0x1f,0x1f,0x1c,0x1c,0x00,0x00,0x00,0xfc,0xfc,0xfc,0x1c,0x1c,
+0x1c,0x1c,0x1c,0x1f,0x1f,0x1f,0x00,0x00,0x1c,0x1c,0x1c,0xfc,0xfc,0xfc,0x00,0x00,
+0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x18,0x18,0x18,0x18,0x00,0x18,0x00,
+0x66,0x66,0x44,0x00,0x00,0x00,0x00,0x00,0x00,0x24,0x7e,0x24,0x24,0x7e,0x24,0x00,
+0x14,0x3e,0x55,0x3c,0x1e,0x55,0x3e,0x14,0x62,0x66,0x0c,0x18,0x30,0x66,0x46,0x00,
+0x78,0xcc,0x61,0xce,0xcc,0xcc,0x78,0x00,0x18,0x18,0x10,0x00,0x00,0x00,0x00,0x00,
+0x04,0x08,0x18,0x18,0x18,0x18,0x08,0x04,0x20,0x10,0x18,0x18,0x18,0x18,0x10,0x20,
+0x00,0x54,0x38,0xfe,0x38,0x54,0x00,0x00,0x00,0x18,0x18,0x7e,0x18,0x18,0x00,0x00,
+0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x20,0x00,0x00,0x00,0x3c,0x00,0x00,0x00,0x00,
+0x00,0x00,0x00,0x00,0x00,0x18,0x18,0x00,0x03,0x06,0x0c,0x18,0x30,0x60,0xc0,0x00,
+0x3c,0x66,0x6e,0x76,0x66,0x66,0x3c,0x00,0x18,0x38,0x18,0x18,0x18,0x18,0x18,0x00,
+0x3c,0x66,0x0e,0x1c,0x38,0x70,0x7e,0x00,0x7e,0x0c,0x18,0x3c,0x06,0x46,0x3c,0x00,
+0x0c,0x1c,0x2c,0x4c,0x7e,0x0c,0x0c,0x00,0x7e,0x60,0x7c,0x06,0x06,0x46,0x3c,0x00,
+0x1c,0x20,0x60,0x7c,0x66,0x66,0x3c,0x00,0x7e,0x06,0x0e,0x1c,0x18,0x18,0x18,0x00,
+0x3c,0x66,0x66,0x3c,0x66,0x66,0x3c,0x00,0x3c,0x66,0x66,0x3e,0x06,0x0c,0x38,0x00,
+0x00,0x18,0x18,0x00,0x00,0x18,0x18,0x00,0x00,0x18,0x18,0x00,0x18,0x18,0x10,0x00,
+0x06,0x0c,0x18,0x30,0x18,0x0c,0x06,0x00,0x00,0x00,0x3c,0x00,0x00,0x3c,0x00,0x00,
+0x60,0x30,0x18,0x0c,0x18,0x30,0x60,0x00,0x3c,0x46,0x06,0x0c,0x18,0x18,0x00,0x18,
+0x3c,0x66,0x6e,0x6a,0x6e,0x60,0x3c,0x00,0x3c,0x66,0x66,0x7e,0x66,0x66,0x66,0x00,
+0x7c,0x66,0x66,0x7c,0x66,0x66,0x7c,0x00,0x3c,0x62,0x60,0x60,0x60,0x62,0x3c,0x00,
+0x7c,0x66,0x66,0x66,0x66,0x66,0x7c,0x00,0x7e,0x60,0x60,0x7c,0x60,0x60,0x7e,0x00,
+0x7e,0x60,0x60,0x7c,0x60,0x60,0x60,0x00,0x3c,0x62,0x60,0x6e,0x66,0x66,0x3e,0x00,
+0x66,0x66,0x66,0x7e,0x66,0x66,0x66,0x00,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x00,
+0x06,0x06,0x06,0x06,0x06,0x46,0x3c,0x00,0x66,0x6c,0x78,0x70,0x78,0x6c,0x66,0x00,
+0x60,0x60,0x60,0x60,0x60,0x60,0x7c,0x00,0xfc,0xd6,0xd6,0xd6,0xd6,0xc6,0xc6,0x00,
+0x62,0x72,0x7a,0x5e,0x4e,0x46,0x42,0x00,0x3c,0x66,0x66,0x66,0x66,0x66,0x3c,0x00,
+0x7c,0x66,0x66,0x7c,0x60,0x60,0x60,0x00,0x3c,0x66,0x66,0x66,0x66,0x66,0x3c,0x06,
+0x7c,0x66,0x66,0x7c,0x66,0x66,0x66,0x00,0x3c,0x62,0x70,0x3c,0x0e,0x46,0x3c,0x00,
+0x7e,0x18,0x18,0x18,0x18,0x18,0x18,0x00,0x66,0x66,0x66,0x66,0x66,0x66,0x3c,0x00,
+0x66,0x66,0x66,0x66,0x66,0x64,0x78,0x00,0xc6,0xc6,0xc6,0xd6,0xd6,0xd6,0xfc,0x00,
+0x66,0x66,0x66,0x3c,0x66,0x66,0x66,0x00,0x66,0x66,0x66,0x3c,0x18,0x18,0x18,0x00,
+0x7e,0x0e,0x1c,0x38,0x70,0x60,0x7e,0x00,0x1e,0x18,0x18,0x18,0x18,0x18,0x1e,0x00,
+0x40,0x60,0x30,0x18,0x0c,0x06,0x02,0x00,0x78,0x18,0x18,0x18,0x18,0x18,0x78,0x00,
+0x10,0x38,0x6c,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7e,0x00,
+0x00,0xc0,0xc0,0x60,0x00,0x00,0x00,0x00,0x00,0x3c,0x46,0x3e,0x66,0x66,0x3e,0x00,
+0x60,0x7c,0x66,0x66,0x66,0x66,0x7c,0x00,0x00,0x3c,0x62,0x60,0x60,0x62,0x3c,0x00,
+0x06,0x3e,0x66,0x66,0x66,0x66,0x3e,0x00,0x00,0x3c,0x66,0x7e,0x60,0x62,0x3c,0x00,
+0x1e,0x30,0x7c,0x30,0x30,0x30,0x30,0x00,0x00,0x3e,0x66,0x66,0x66,0x3e,0x46,0x3c,
+0x60,0x7c,0x66,0x66,0x66,0x66,0x66,0x00,0x18,0x00,0x18,0x18,0x18,0x18,0x18,0x00,
+0x00,0x08,0x18,0x18,0x18,0x18,0x58,0x30,0x60,0x64,0x68,0x70,0x78,0x6c,0x66,0x00,
+0x18,0x18,0x18,0x18,0x18,0x18,0x0c,0x00,0x00,0xfc,0xd6,0xd6,0xd6,0xd6,0xc6,0x00,
+0x00,0x7c,0x66,0x66,0x66,0x66,0x66,0x00,0x00,0x3c,0x66,0x66,0x66,0x66,0x3c,0x00,
+0x00,0x7c,0x66,0x66,0x66,0x7c,0x60,0x60,0x00,0x3e,0x66,0x66,0x66,0x66,0x3e,0x06,
+0x00,0x6c,0x70,0x60,0x60,0x60,0x60,0x00,0x00,0x3c,0x72,0x38,0x1c,0x4e,0x3c,0x00,
+0x18,0x3c,0x18,0x18,0x18,0x18,0x0c,0x00,0x00,0x66,0x66,0x66,0x66,0x66,0x3e,0x00,
+0x00,0x66,0x66,0x66,0x66,0x64,0x78,0x00,0x00,0xc6,0xc6,0xd6,0xd6,0xd6,0xfc,0x00,
+0x00,0x66,0x66,0x3c,0x66,0x66,0x66,0x00,0x00,0x66,0x66,0x66,0x26,0x1e,0x46,0x3c,
+0x00,0x7e,0x0e,0x1c,0x38,0x70,0x7e,0x00,0x0e,0x18,0x18,0x30,0x18,0x18,0x0e,0x00,
+0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x70,0x18,0x18,0x0c,0x18,0x18,0x70,0x00,
+0x00,0x60,0xf2,0x9e,0x0c,0x00,0x00,0x00,0x10,0x10,0x28,0x28,0x44,0x44,0x82,0xfe,
+0x3c,0x62,0x60,0x60,0x60,0x62,0x1c,0x30,0x24,0x00,0x66,0x66,0x66,0x66,0x3e,0x00,
+0x0c,0x18,0x00,0x3c,0x7e,0x60,0x3c,0x00,0x18,0x66,0x00,0x3c,0x06,0x7e,0x3e,0x00,
+0x24,0x00,0x3c,0x46,0x3e,0x46,0x3e,0x00,0x30,0x18,0x00,0x3c,0x06,0x7e,0x3e,0x00,
+0x18,0x18,0x00,0x3c,0x06,0x7e,0x3e,0x00,0x00,0x3c,0x62,0x60,0x62,0x3c,0x08,0x18,
+0x18,0x34,0x00,0x3c,0x7e,0x60,0x3e,0x00,0x24,0x00,0x3c,0x66,0x7e,0x60,0x3e,0x00,
+0x30,0x18,0x00,0x3c,0x7e,0x60,0x3c,0x00,0x24,0x00,0x18,0x18,0x18,0x18,0x18,0x00,
+0x18,0x24,0x00,0x18,0x18,0x18,0x18,0x00,0x10,0x08,0x00,0x18,0x18,0x18,0x18,0x00,
+0x24,0x00,0x3c,0x66,0x7e,0x66,0x66,0x00,0x18,0x00,0x3c,0x66,0x7e,0x66,0x66,0x00,
+0x0c,0x18,0x7e,0x60,0x7c,0x60,0x7e,0x00,0x00,0x00,0x7e,0x1b,0x7f,0xd8,0x7e,0x00,
+0x3f,0x78,0xd8,0xde,0xf8,0xd8,0xdf,0x00,0x18,0x34,0x00,0x3c,0x66,0x66,0x3c,0x00,
+0x24,0x00,0x3c,0x66,0x66,0x66,0x3c,0x00,0x30,0x18,0x00,0x3c,0x66,0x66,0x3c,0x00,
+0x18,0x24,0x00,0x66,0x66,0x66,0x3c,0x00,0x30,0x18,0x00,0x66,0x66,0x66,0x3c,0x00,
+0x66,0x00,0x66,0x66,0x66,0x3e,0x46,0x3c,0x66,0x00,0x3c,0x66,0x66,0x66,0x3c,0x00,
+0x66,0x00,0x66,0x66,0x66,0x66,0x3c,0x00,0x18,0x3c,0x62,0x60,0x60,0x62,0x3c,0x18,
+0x1c,0x3a,0x30,0x7c,0x30,0x30,0x7e,0x00,0x66,0x66,0x3c,0x18,0x3c,0x18,0x18,0x00,
+0x3c,0x66,0x66,0x6c,0x66,0x66,0xec,0x00,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
+0x0c,0x18,0x00,0x3c,0x06,0x7e,0x3e,0x00,0x0c,0x18,0x00,0x18,0x18,0x18,0x18,0x00,
+0x0c,0x18,0x00,0x3c,0x66,0x66,0x3c,0x00,0x0c,0x18,0x00,0x66,0x66,0x66,0x3e,0x00,
+0x34,0x58,0x00,0x7c,0x66,0x66,0x66,0x00,0x1a,0x2c,0x62,0x72,0x5a,0x4e,0x46,0x00,
+0x00,0x3c,0x46,0x3e,0x66,0x3e,0x00,0x7e,0x00,0x3c,0x66,0x66,0x66,0x3c,0x00,0x7e,
+0x00,0x18,0x00,0x18,0x30,0x60,0x66,0x3c,0x00,0x00,0x00,0x3e,0x30,0x30,0x30,0x00,
+0x00,0x00,0x00,0x7c,0x0c,0x0c,0x0c,0x00,0x62,0xe4,0x68,0x76,0x2b,0x43,0x86,0x0f,
+0x62,0xe4,0x68,0x76,0x2e,0x56,0x9f,0x06,0x00,0x18,0x00,0x18,0x18,0x18,0x18,0x18,
+0x1b,0x36,0x6c,0xd8,0x6c,0x36,0x1b,0x00,0xd8,0x6c,0x36,0x1b,0x36,0x6c,0xd8,0x00,
+0x34,0x58,0x00,0x3c,0x06,0x7e,0x3e,0x00,0x34,0x58,0x00,0x3c,0x66,0x66,0x3c,0x00,
+0x02,0x3c,0x66,0x6e,0x76,0x66,0x3c,0x40,0x00,0x02,0x3c,0x6e,0x76,0x66,0x3c,0x40,
+0x00,0x00,0x7e,0xdb,0xde,0xd8,0x7f,0x00,0x00,0x7e,0xd8,0xd8,0xfc,0xd8,0xd8,0xde,
+0x20,0x10,0x3c,0x66,0x66,0x7e,0x66,0x66,0x34,0x58,0x3c,0x66,0x66,0x7e,0x66,0x66,
+0x34,0x58,0x3c,0x66,0x66,0x66,0x66,0x3c,0x66,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+0x0c,0x18,0x30,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x38,0x10,0x10,0x10,0x00,0x00,
+0x7a,0xca,0xca,0xca,0x7a,0x0a,0x0a,0x0a,0x3c,0x42,0x99,0xb5,0xb1,0x9d,0x42,0x3c,
+0x3c,0x42,0xb9,0xb5,0xb9,0xb5,0x42,0x3c,0xf1,0x5b,0x55,0x51,0x51,0x00,0x00,0x00,
+0x66,0x00,0xe6,0x66,0x66,0xf6,0x06,0x1c,0xf6,0x66,0x66,0x66,0x66,0xf6,0x06,0x1c,
+0x00,0x66,0x76,0x3c,0x6e,0x66,0x00,0x00,0x00,0x7c,0x0c,0x0c,0x0c,0x7e,0x00,0x00,
+0x00,0x1e,0x06,0x0e,0x1e,0x36,0x00,0x00,0x00,0x7e,0x0c,0x0c,0x0c,0x0c,0x00,0x00,
+0x00,0x7c,0x06,0x66,0x66,0x66,0x00,0x00,0x00,0x1c,0x0c,0x0c,0x0c,0x0c,0x00,0x00,
+0x00,0x1e,0x0c,0x06,0x06,0x06,0x00,0x00,0x00,0x7e,0x36,0x36,0x36,0x36,0x00,0x00,
+0x60,0x6e,0x66,0x66,0x66,0x7e,0x00,0x00,0x00,0x3c,0x0c,0x0c,0x00,0x00,0x00,0x00,
+0x00,0x3e,0x06,0x06,0x06,0x3e,0x00,0x00,0x60,0x7e,0x06,0x06,0x06,0x0e,0x00,0x00,
+0x00,0x6c,0x3e,0x66,0x66,0x6e,0x00,0x00,0x00,0x1c,0x0c,0x0c,0x0c,0x3c,0x00,0x00,
+0x00,0x3e,0x36,0x36,0x36,0x1c,0x00,0x00,0x00,0x36,0x36,0x36,0x36,0x7e,0x00,0x00,
+0x00,0x7e,0x66,0x76,0x06,0x7e,0x00,0x00,0x00,0x66,0x66,0x3c,0x0e,0x7e,0x00,0x00,
+0x00,0x3e,0x06,0x36,0x36,0x34,0x30,0x00,0x00,0x78,0x0c,0x0c,0x0c,0x0c,0x00,0x00,
+0x00,0xd6,0xd6,0xd6,0xd6,0xfe,0x00,0x00,0x00,0x7c,0x6c,0x6c,0x6c,0xec,0x00,0x00,
+0x00,0x1c,0x0c,0x0c,0x0c,0x0c,0x0c,0x00,0x00,0x3e,0x06,0x06,0x06,0x06,0x06,0x00,
+0x00,0xfe,0x66,0x66,0x66,0x7e,0x00,0x00,0x00,0x7e,0x66,0x76,0x06,0x06,0x06,0x00,
+0x00,0x36,0x36,0x1c,0x0c,0x0c,0x0c,0x00,0x1c,0x32,0x3c,0x66,0x66,0x3c,0x4c,0x38,
+0x00,0x10,0x38,0x6c,0xc6,0x82,0x00,0x00,0x66,0xf7,0x99,0x99,0xef,0x66,0x00,0x00,
+0x00,0x00,0x76,0xdc,0xc8,0xdc,0x76,0x00,0x1c,0x36,0x66,0x7c,0x66,0x66,0x7c,0x60,
+0x00,0xfe,0x66,0x62,0x60,0x60,0x60,0xf8,0x00,0x00,0xfe,0x6c,0x6c,0x6c,0x6c,0x48,
+0xfe,0x66,0x30,0x18,0x30,0x66,0xfe,0x00,0x00,0x1e,0x38,0x6c,0x6c,0x6c,0x38,0x00,
+0x00,0x00,0x6c,0x6c,0x6c,0x6c,0x7f,0xc0,0x00,0x00,0x7e,0x18,0x18,0x18,0x18,0x10,
+0x3c,0x18,0x3c,0x66,0x66,0x3c,0x18,0x3c,0x00,0x3c,0x66,0x7e,0x66,0x66,0x3c,0x00,
+0x00,0x3c,0x66,0x66,0x66,0x24,0x66,0x00,0x1c,0x36,0x78,0xdc,0xcc,0xec,0x78,0x00,
+0x0c,0x18,0x38,0x54,0x54,0x38,0x30,0x60,0x00,0x10,0x7c,0xd6,0xd6,0xd6,0x7c,0x10,
+0x3e,0x70,0x60,0x7e,0x60,0x70,0x3e,0x00,0x3c,0x66,0x66,0x66,0x66,0x66,0x66,0x00,
+0x00,0x7e,0x00,0x7e,0x00,0x7e,0x00,0x00,0x18,0x18,0x7e,0x18,0x18,0x00,0x7e,0x00,
+0x30,0x18,0x0c,0x18,0x30,0x00,0x7e,0x00,0x0c,0x18,0x30,0x18,0x0c,0x00,0x7e,0x00,
+0x00,0x0e,0x1b,0x1b,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0xd8,0xd8,0x70,0x00,
+0x18,0x18,0x00,0x7e,0x00,0x18,0x18,0x00,0x00,0x32,0x4c,0x00,0x32,0x4c,0x00,0x00,
+0x38,0x6c,0x38,0x00,0x00,0x00,0x00,0x00,0x38,0x7c,0x38,0x00,0x00,0x00,0x00,0x00,
+0x00,0x00,0x00,0x00,0x18,0x18,0x00,0x00,0x00,0x00,0x0f,0x18,0xd8,0x70,0x30,0x00,
+0x38,0x6c,0x6c,0x6c,0x6c,0x00,0x00,0x00,0x38,0x6c,0x18,0x30,0x7c,0x00,0x00,0x00,
+0x78,0x0c,0x38,0x0c,0x78,0x00,0x00,0x00,0x00,0xfe,0x00,0x00,0x00,0x00,0x00,0x00
diff -Nru MPlayer-0.60pre1/libvo/freescope.files MPlayer-0.60pre1-lcd/libvo/freescope.files
--- MPlayer-0.60pre1/libvo/freescope.files	Thu Jan  1 01:00:00 1970
+++ MPlayer-0.60pre1-lcd/libvo/freescope.files	Sat Dec 29 14:53:28 2001
@@ -0,0 +1,53 @@
+./img_format.c
+./img_format.h
+./vo_null.c
+./wskeys.h
+./vo_fbdev.c
+./vo_svga.c
+./vo_vesa.c
+./lcd.h
+./osd.c
+./osd.h
+./sub.c
+./sub.h
+./vo_xmga.c
+./vo_syncfb.c
+./vo_3dfx.c
+./vo_fsdga.c
+./aclib_template.c
+./osd_template.c
+./vo_odivx.c
+./font.h
+./video_out.c
+./video_out.h
+./video_out_internal.h
+./aclib.c
+./output.c
+./output.h
+./vo_tdfxfb.c
+./fastmemcpy.h
+./mga_common.c
+./vo_dga.c
+./vo_gl2.c
+./vo_ggi.c
+./vo_lcd.c
+./vo_md5.c
+./vo_mga.c
+./vo_pgm.c
+./vo_png.c
+./vo_x11.c
+./vo_sdl.c
+./vesa_lvo.c
+./vesa_lvo.h
+./vo_aa.c
+./vo_gl.c
+./vo_xv.c
+./x11_common.c
+./x11_common.h
+./vo_directfb.c
+./vo_mpegpes.c
+./aspect.c
+./aspect.h
+./vo_dxr3.c
+./font_load.c
+./font_load.h
Binary files MPlayer-0.60pre1/libvo/freescope.out and MPlayer-0.60pre1-lcd/libvo/freescope.out differ
diff -Nru MPlayer-0.60pre1/libvo/lcd.h MPlayer-0.60pre1-lcd/libvo/lcd.h
--- MPlayer-0.60pre1/libvo/lcd.h	Thu Jan  1 01:00:00 1970
+++ MPlayer-0.60pre1-lcd/libvo/lcd.h	Fri Dec 28 14:56:30 2001
@@ -0,0 +1,7 @@
+// LCD Defines
+
+#define DEVICE "/dev/lcd0"
+#define BANKS 8
+#define XSIZE (105)
+#define YSIZE (BANKS*8)
+
diff -Nru MPlayer-0.60pre1/libvo/output.c MPlayer-0.60pre1-lcd/libvo/output.c
--- MPlayer-0.60pre1/libvo/output.c	Thu Jan  1 01:00:00 1970
+++ MPlayer-0.60pre1-lcd/libvo/output.c	Fri Dec 28 14:56:30 2001
@@ -0,0 +1,134 @@
+#include <unistd.h>
+#include <sys/types.h>
+#include <sys/stat.h>
+#include <fcntl.h>
+#include <string.h>
+#include <stdio.h>
+
+#include "output.h"
+
+// Define für asciitest
+//#define TEST
+#define CLRSCR "\27[2J" // FIXME
+
+
+char screen[XSIZE*YSIZE]; 
+#define SCR_AT(x,y) screen[(x)+(y)*XSIZE]
+
+char font[256*8] = {
+#include "font.h"
+};
+
+#define FONTBIT(c, x, y) (font[(c)*8+(y)] & (1<<(7-(x))))
+
+void writescreen() {
+#ifdef TEST
+    int x, y;
+    //printf(CLRSCR);
+    for (y=0; y<YSIZE; y++) {
+        for (x=0; x<XSIZE; x++) {
+            if (SCR_AT(x,y)) 
+                printf("#");
+            else
+                printf(" ");
+        }
+    }
+
+#else    
+    char buf[XSIZE*YSIZE/8];
+    int bank, x, pos, bit;
+    
+    int devfp;
+
+    #define SCR_SHIFT(x, bank, bit) (SCR_AT(x, (bank)*8 + bit) << bit)
+    
+    pos=0;
+    for (bank = 0; bank < BANKS; bank++) {
+        for (x = 0; x < XSIZE; x++) {
+            buf[pos]=0;
+            for (bit=0; bit < 8; bit++) {
+                buf[pos] |= SCR_SHIFT(x, bank, bit);
+            }
+            pos++;
+        }
+    }
+
+    devfp=open(DEVICE, O_WRONLY);
+    write(devfp, &buf, XSIZE*YSIZE/8);
+    close(devfp);
+
+#endif
+}
+
+void clearscreen() {
+    bzero(&screen, XSIZE*YSIZE);
+}
+
+void setpixel(int x, int y) {
+    if (x>XSIZE || x<0 || y>YSIZE || y<0)
+        return;
+
+    SCR_AT(x, y)=1;
+}
+
+void unsetpixel(int x, int y) {
+    if (x>XSIZE || x<0 || y>YSIZE || y<0)
+        return;
+
+    SCR_AT(x, y)=1;
+}
+
+void setblock(int x1, int y1, int x2, int y2) {
+    int x,y;
+    if (x1>x2 || y1>y2)
+        return;
+    if (x1<0) x1=0;
+    if (x2>=XSIZE) x2=XSIZE-1;
+    if (y1<0) y1=0;
+    if (y2>=YSIZE) y2=YSIZE-1;
+
+    for (y=y1; y<=y2; y++) {
+        for (x=x1; x<=x2; x++) {
+            SCR_AT(x, y)=1;
+        }
+    }
+}
+
+void putcharacter(char blah, int x, int y, int zoom) {
+    int bx, by, zoomx, zoomy;
+
+    if (x > XSIZE || x + zoom * 8 < 0 || y > XSIZE || y + zoom * 8 < 0)
+        return;
+
+    for (by=0; by<8; by++) {
+        for (bx=0; bx<8; bx++) {
+            if (FONTBIT(blah, bx, by)) {
+                for (zoomy=0; zoomy<zoom; zoomy++) {
+                    for (zoomx=0; zoomx<zoom; zoomx++) {
+                        setpixel(x+zoom*bx+zoomx, y+zoom*by+zoomy);
+                    }
+                }
+            }
+        }
+    }
+}
+
+void putstring(char *string, int x, int y, int zoom, int spacing) {
+    int i;
+    for (i=0; i<strlen(string); i++) {
+        putcharacter(string[i], x + i * ((zoom*8) + spacing), y, zoom);
+    }
+}
+
+int stringwidth(char *string, int zoom, int spacing) {
+    return (zoom*8+spacing)*strlen(string);
+}
+
+void scrollup(int lines) {
+    if (lines == 0)
+        return;
+    if (lines>=YSIZE) 
+        lines=YSIZE-1;
+    memmove(&SCR_AT(0,0), &SCR_AT(0, lines), (YSIZE-lines+1)*XSIZE);
+    bzero(&SCR_AT(0, YSIZE-lines), lines*XSIZE);
+}
diff -Nru MPlayer-0.60pre1/libvo/output.h MPlayer-0.60pre1-lcd/libvo/output.h
--- MPlayer-0.60pre1/libvo/output.h	Thu Jan  1 01:00:00 1970
+++ MPlayer-0.60pre1-lcd/libvo/output.h	Sat Dec 29 15:15:53 2001
@@ -0,0 +1,22 @@
+#include "lcd.h"
+
+static char lcd_screen[XSIZE*YSIZE]; 
+#define SCR_AT(x,y) lcd_screen[(x)+(y)*XSIZE]
+
+void writescreen();
+void clearscreen();
+
+void setpixel(int x, int y);
+#define setpixel_nocheck(x,y) SCR_AT((x), (y))=1;
+
+void unsetpixel(int x, int y);
+#define unsetpixel_nocheck(x,y) SCR_AT((x), (y))=0;
+
+#define putpixel(x, y) setpixel((x), (y))
+
+void putcharacter(char blah, int x, int y, int zoom);
+void putstring(char *string, int x, int y, int zoom, int spacing);
+int  stringwidth(char *string, int zoom, int spacing);
+
+void setblock(int x1, int y1, int x2, int y2);
+void scrollup(int lines);
diff -Nru MPlayer-0.60pre1/libvo/video_out.c MPlayer-0.60pre1-lcd/libvo/video_out.c
--- MPlayer-0.60pre1/libvo/video_out.c	Mon Dec  3 02:09:36 2001
+++ MPlayer-0.60pre1-lcd/libvo/video_out.c	Fri Dec 28 14:12:01 2001
@@ -51,6 +51,7 @@
 //
 // Externally visible list of all vo drivers
 //
+extern vo_functions_t video_out_lcd;
 extern vo_functions_t video_out_mga;
 extern vo_functions_t video_out_xmga;
 extern vo_functions_t video_out_x11;
@@ -136,6 +137,7 @@
         &video_out_pgm,
         &video_out_md5,
 	&video_out_mpegpes,
+        &video_out_lcd,
 #if defined( ARCH_X86 ) && defined( TARGET_LINUX )
 	&video_out_vesa,
 #endif
diff -Nru MPlayer-0.60pre1/libvo/vo_lcd.c MPlayer-0.60pre1-lcd/libvo/vo_lcd.c
--- MPlayer-0.60pre1/libvo/vo_lcd.c	Thu Jan  1 01:00:00 1970
+++ MPlayer-0.60pre1-lcd/libvo/vo_lcd.c	Sat Dec 29 15:25:16 2001
@@ -0,0 +1,154 @@
+/* 
+ * Blah
+ */
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+
+#include "config.h"
+#include "video_out.h"
+#include "video_out_internal.h"
+#include "lcd.h"
+#include "output.h"
+
+#include "../postproc/rgb2rgb.h"
+
+LIBVO_EXTERN (lcd)
+
+static vo_info_t vo_info = 
+{
+	"LCD Output",
+	"lcd",
+	"",
+	""
+};
+
+static int image_width;
+static int image_height;
+static char header[1024];
+static int framenum = 0;
+static int bpp = 24;
+
+static uint8_t *image=NULL;
+static uint8_t *curimage=NULL;
+
+
+static uint32_t
+init(uint32_t width, uint32_t height, uint32_t d_width, uint32_t d_height, uint32_t fullscreen, char *title, uint32_t format)
+{
+    printf("init\n");
+    image_height = height;
+    image_width = width;
+    switch(format) {
+        case IMGFMT_BGR24:
+            printf("1\n");
+             bpp = 24;
+        break;     
+        case IMGFMT_RGB24:
+            printf("2\n");
+             bpp = 24;
+        break;     
+        case IMGFMT_YV12:
+            printf("3\n");
+             bpp = 24;
+             yuv2rgb_init(bpp,MODE_BGR);
+        break;
+        default:
+             return 1;     
+    }
+    image=malloc(image_width*image_height*3);
+    return 0;
+}
+
+static const vo_info_t*
+get_info(void)
+{
+    printf("getinfo\n");
+    return &vo_info;
+}
+
+static void draw_osd(void)
+{
+}
+
+static void raus(uint8_t *image) {
+    static dither=0;
+    static threshold=90;
+    int limit;
+	float x, y;
+    int pixel;
+
+    dither=1-dither;
+    clearscreen();
+    pixel=0;
+	for (x=0; x< XSIZE; x++) {
+        for (y=0; y< YSIZE; y++) {
+            int c=image[((int)(y*image_height/YSIZE) * image_width + (int)(x*image_width/XSIZE)) * (bpp/8)]+
+                  image[((int)(y*image_height/YSIZE) * image_width + (int)(x*image_width/XSIZE)) * (bpp/8)+1]+
+                  image[((int)(y*image_height/YSIZE) * image_width + (int)(x*image_width/XSIZE)) * (bpp/8)+2];
+            limit=threshold+((int)(x+y)%3)*20+dither*5;
+			if (c < limit * 3) {
+                pixel++;
+				setpixel(x,y);
+            }
+		}
+	}
+
+    if (pixel < XSIZE*YSIZE*0.10) {
+        threshold+=1;
+    } else if (pixel > XSIZE*YSIZE*0.90) {
+        threshold-=1;
+    }
+    
+    writescreen();
+}
+
+static void flip_page (void)
+{
+    raus(curimage);
+}
+
+
+static uint32_t draw_slice(uint8_t *src[], int stride[], int w,int h,int x,int y)
+{
+    uint8_t *dst;
+    dst = image+(image_width * y + x) * 3;
+    yuv2rgb(dst,src[0],src[1],src[2],w,h,image_width*3,stride[0],stride[1]);
+    curimage=image;
+    return 0;
+}
+
+
+static uint32_t draw_frame(uint8_t * src[])
+{
+    curimage=&src[0][0];
+    return 0;
+}
+
+static uint32_t
+query_format(uint32_t format)
+{
+    printf("qryformat\n");
+    switch(format){
+    case IMGFMT_YV12:
+    case IMGFMT_RGB|24:
+    case IMGFMT_BGR|24:
+        return 1;
+    }
+    return 0;
+}
+
+static void
+uninit(void)
+{
+    printf("uninit\n");
+}
+
+
+static void check_events(void)
+{
+}
+
+
+
diff -Nru MPlayer-0.60pre1/linux/getch2.c MPlayer-0.60pre1-lcd/linux/getch2.c
--- MPlayer-0.60pre1/linux/getch2.c	Mon Dec  3 16:30:06 2001
+++ MPlayer-0.60pre1-lcd/linux/getch2.c	Fri Dec 28 17:07:17 2001
@@ -139,6 +139,7 @@
     retval=select(1, &rfds, NULL, NULL, &tv);
     if(retval<=0) return -1;
     /* Data is available now. */
+    printf("getch2 data is here\n");
     retval=read(0,&getch2_buf[getch2_len],BUF_LEN-getch2_len);
     if(retval<1) return -1;
     getch2_len+=retval;
diff -Nru MPlayer-0.60pre1/version.h MPlayer-0.60pre1-lcd/version.h
--- MPlayer-0.60pre1/version.h	Thu Jan  1 01:00:00 1970
+++ MPlayer-0.60pre1-lcd/version.h	Fri Dec 28 14:04:47 2001
@@ -0,0 +1 @@
+#define VERSION "0.60pre1 "
